# IDL ä»£ç ç”ŸæˆæŒ‡å—

> ğŸ“… **æœ€åæ›´æ–°**: 2025-01-27  
> ğŸ¯ **ç›®æ ‡**: è¯¦è§£ Thrift IDL å¦‚ä½•ç”Ÿæˆ Go ä»£ç 

---

## ğŸ“‹ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [ç”Ÿæˆå·¥å…·é“¾](#ç”Ÿæˆå·¥å…·é“¾)
- [ç”Ÿæˆçš„ä»£ç ç±»å‹](#ç”Ÿæˆçš„ä»£ç ç±»å‹)
- [ç”Ÿæˆæµç¨‹](#ç”Ÿæˆæµç¨‹)
- [ä»£ç ç¤ºä¾‹å¯¹æ¯”](#ä»£ç ç¤ºä¾‹å¯¹æ¯”)
- [å®é™…ä½¿ç”¨](#å®é™…ä½¿ç”¨)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## æ¦‚è¿°

æœ¬é¡¹ç›®ä½¿ç”¨ **Apache Thrift IDL** ä½œä¸ºæ¥å£å®šä¹‰è¯­è¨€ï¼Œé‡‡ç”¨ **å¥‘çº¦ä¼˜å…ˆï¼ˆContract-Firstï¼‰** çš„å¼€å‘æ¨¡å¼ã€‚

### ğŸ”„ å¼€å‘æµç¨‹

```
ç¼–å†™ IDL (.thrift)  â†’  ç”Ÿæˆä»£ç  (Kitex/Hertz)  â†’  å®ç°ä¸šåŠ¡é€»è¾‘
     â†“                        â†“                        â†“
idl/passport/         backend/api/model/        backend/api/handler/
passport.thrift       passport/passport.go      coze/passport_service.go
                      backend/api/router/       backend/application/
                      coze/api.go               user/user.go
```

### ğŸ¯ æ ¸å¿ƒåŸåˆ™

1. **æ¥å£å…ˆå®šä¹‰** - åœ¨ IDL ä¸­å®šä¹‰æ‰€æœ‰ API
2. **ä»£ç è‡ªåŠ¨ç”Ÿæˆ** - ä¸æ‰‹å†™ API Model å’Œ Router
3. **åªå®ç°ä¸šåŠ¡é€»è¾‘** - Handler ä¸­çš„ä¸šåŠ¡ä»£ç éœ€è¦æ‰‹åŠ¨å®ç°

---

## ç”Ÿæˆå·¥å…·é“¾

### å·¥å…·è¯´æ˜

| å·¥å…· | ç‰ˆæœ¬ | ä½œç”¨ |
|------|------|------|
| **thriftgo** | v0.4.1 | Thrift ç¼–è¯‘å™¨ï¼Œå°† `.thrift` æ–‡ä»¶è½¬æ¢ä¸º Go ä»£ç  |
| **kitex** | v0.13.1 | CloudWeGo å·¥å…·ï¼ŒåŸºäº Thrift ç”Ÿæˆ HTTP æœåŠ¡ä»£ç  |
| **hertz** | - | HTTP æ¡†æ¶ï¼Œç”Ÿæˆçš„ä»£ç åŸºäº Hertz |

### å®‰è£…å·¥å…·

```bash
# å®‰è£… Thrift ç¼–è¯‘å™¨
go install github.com/cloudwego/thriftgo@v0.4.1

# å®‰è£… Kitex å·¥å…·
go install github.com/cloudwego/kitex/tool/cmd/kitex@v0.13.1

# éªŒè¯å®‰è£…
thriftgo --version
kitex --version
```

---

## ç”Ÿæˆçš„ä»£ç ç±»å‹

ä» IDL æ–‡ä»¶ç”Ÿæˆä»¥ä¸‹ä¸‰ç±»ä»£ç ï¼š

### 1ï¸âƒ£ API Modelï¼ˆæ•°æ®æ¨¡å‹ï¼‰

**ä½ç½®**: `backend/api/model/{namespace}/`

**ç”¨é€”**: è¯·æ±‚/å“åº”çš„æ•°æ®ç»“æ„

**ç¤ºä¾‹**:

```thrift
// idl/passport/passport.thrift
namespace go passport

struct User {
    1: required i64 user_id_str
    2: required string name
    3: required string email
}

struct PassportWebEmailRegisterV2PostRequest {
    23: string email
    11: required string password
}

struct PassportWebEmailRegisterV2PostResponse {
    1: required User data
    253: required i32 code
    254: required string msg
}
```

**ç”Ÿæˆå**:

```go
// backend/api/model/passport/passport.go
// Code generated by thriftgo (0.4.2). DO NOT EDIT.

package passport

type User struct {
    UserIDStr int64  `thrift:"user_id_str,1,required" json:"user_id_str,required"`
    Name      string `thrift:"name,2,required" json:"name,required"`
    Email     string `thrift:"email,3,required" json:"email,required"`
}

type PassportWebEmailRegisterV2PostRequest struct {
    Email    string `thrift:"email,23" json:"email,omitempty"`
    Password string `thrift:"password,11,required" json:"password,required"`
}

type PassportWebEmailRegisterV2PostResponse struct {
    Data User `thrift:"data,1,required" json:"data,required"`
    Code int32 `thrift:"code,253,required" json:"code,required"`
    Msg  string `thrift:"msg,254,required" json:"msg,required"`
}
```

**ç‰¹ç‚¹**:
- âœ… åŒ…å«å®Œæ•´çš„åºåˆ—åŒ–/ååºåˆ—åŒ–ä»£ç 
- âœ… åŒ…å«å­—æ®µéªŒè¯é€»è¾‘
- âœ… è‡ªåŠ¨ç”Ÿæˆ JSON Tagï¼ˆç”¨äº HTTP è¯·æ±‚/å“åº”ï¼‰

### 2ï¸âƒ£ Routerï¼ˆè·¯ç”±æ³¨å†Œï¼‰

**ä½ç½®**: `backend/api/router/coze/api.go`

**ç”¨é€”**: è‡ªåŠ¨æ³¨å†Œ HTTP è·¯ç”±

**ç¤ºä¾‹**:

```thrift
// idl/passport/passport.thrift
service PassportService {
    PassportWebEmailRegisterV2PostResponse PassportWebEmailRegisterV2Post(
        1: PassportWebEmailRegisterV2PostRequest req
    ) (api.post="/api/passport/web/email/register/v2/")
}
```

**ç”Ÿæˆå**:

```go
// backend/api/router/coze/api.go
// Code generated by hertz generator. DO NOT EDIT.

package coze

import (
    "github.com/cloudwego/hertz/pkg/app/server"
    coze "github.com/coze-dev/coze-studio/backend/api/handler/coze"
)

func Register(r *server.Hertz) {
    root := r.Group("/", rootMw()...)
    {
        _api := root.Group("/api", _apiMw()...)
        {
            _passport := _api.Group("/passport", _passportMw()...)
            {
                _web := _passport.Group("/web", _webMw()...)
                {
                    _email := _web.Group("/email", _emailMw()...)
                    {
                        _register := _email.Group("/register", _registerMw()...)
                        {
                            _v2 := _register.Group("/v2", _v20Mw()...)
                            _v2.POST("/", append(_passportwebemailregisterv2postMw(), 
                                coze.PassportWebEmailRegisterV2Post)...)
                        }
                    }
                }
            }
        }
    }
}
```

**ç‰¹ç‚¹**:
- âœ… æ ¹æ® IDL ä¸­çš„è·¯ç”±æ³¨è§£è‡ªåŠ¨ç”Ÿæˆè·¯ç”±æ ‘
- âœ… è‡ªåŠ¨åº”ç”¨ä¸­é—´ä»¶ï¼ˆmiddlewareï¼‰
- âœ… æ”¯æŒè·¯ç”±åˆ†ç»„

### 3ï¸âƒ£ Handlerï¼ˆå¤„ç†å™¨éª¨æ¶ï¼‰

**ä½ç½®**: `backend/api/handler/coze/{service}_service.go`

**ç”¨é€”**: HTTP è¯·æ±‚å¤„ç†å‡½æ•°çš„éª¨æ¶

**ç¤ºä¾‹**:

```thrift
// idl/passport/passport.thrift
service PassportService {
    PassportWebEmailRegisterV2PostResponse PassportWebEmailRegisterV2Post(
        1: PassportWebEmailRegisterV2PostRequest req
    ) (api.post="/api/passport/web/email/register/v2/")
}
```

**ç”Ÿæˆå**:

```go
// backend/api/handler/coze/passport_service.go
// Code generated by hertz generator.

package coze

import (
    "context"
    "github.com/cloudwego/hertz/pkg/app"
    "github.com/coze-dev/coze-studio/backend/api/model/passport"
)

// PassportWebEmailRegisterV2Post .
// @router /passport/web/email/register/v2/ [POST]
func PassportWebEmailRegisterV2Post(ctx context.Context, c *app.RequestContext) {
    var err error
    var req passport.PassportWebEmailRegisterV2PostRequest
    
    // 1. ç»‘å®šå’ŒéªŒè¯è¯·æ±‚å‚æ•°
    err = c.BindAndValidate(&req)
    if err != nil {
        invalidParamRequestResponse(c, err.Error())
        return
    }
    
    // 2. è·å– localeï¼ˆå›½é™…åŒ–ï¼‰
    locale := string(i18n.GetLocale(ctx))
    
    // 3. âš ï¸ ä¸šåŠ¡é€»è¾‘éœ€è¦æ‰‹åŠ¨å®ç°
    // TODO: è°ƒç”¨ Application Service
    
    // 4. è¿”å›å“åº”
    c.JSON(http.StatusOK, resp)
}
```

**ç‰¹ç‚¹**:
- âœ… è‡ªåŠ¨ç”Ÿæˆå‚æ•°ç»‘å®šå’ŒéªŒè¯
- âœ… è‡ªåŠ¨ç”Ÿæˆå‡½æ•°ç­¾å
- âš ï¸ **ä¸šåŠ¡é€»è¾‘éœ€è¦æ‰‹åŠ¨å®ç°**

---

## ç”Ÿæˆæµç¨‹

### æ­¥éª¤ 1: ç¼–å†™ IDL æ–‡ä»¶

åˆ›å»ºæˆ–ä¿®æ”¹ `.thrift` æ–‡ä»¶ï¼š

```thrift
// idl/passport/passport.thrift
namespace go passport

include "../base.thrift"

struct User {
    1: required i64 user_id_str (agw.js_conv="str", api.js_conv="true")
    2: required string name
    3: required string email
}

struct PassportWebEmailRegisterV2PostRequest {
    23: string email
    11: required string password
}

struct PassportWebEmailRegisterV2PostResponse {
    1: required User data
    253: required i32 code
    254: required string msg
}

service PassportService {
    PassportWebEmailRegisterV2PostResponse PassportWebEmailRegisterV2Post(
        1: PassportWebEmailRegisterV2PostRequest req
    ) (api.post="/api/passport/web/email/register/v2/")
}
```

### æ­¥éª¤ 2: è¿è¡Œç”Ÿæˆå‘½ä»¤

æ ¹æ®é¡¹ç›®é…ç½®ï¼Œç”Ÿæˆå‘½ä»¤å¯èƒ½æ˜¯ï¼š

```bash
# æ–¹å¼ 1: ä½¿ç”¨ Kitexï¼ˆæ¨èï¼‰
kitex -service=coze -module=github.com/coze-dev/coze-studio \
    -thrift ignore_initialisms=false \
    idl/api.thrift

# æ–¹å¼ 2: ä½¿ç”¨ make å‘½ä»¤ï¼ˆå¦‚æœé¡¹ç›®é…ç½®äº†ï¼‰
make gen_api

# æ–¹å¼ 3: æ‰‹åŠ¨ç”Ÿæˆï¼ˆæŸ¥çœ‹ .github/workflows/idl.yamlï¼‰
thriftgo -g go:package_prefix=github.com/coze-dev/coze-studio/backend \
    -o backend/api/model \
    idl/passport/passport.thrift
```

### æ­¥éª¤ 3: å®ç°ä¸šåŠ¡é€»è¾‘

åœ¨ç”Ÿæˆçš„ Handler ä¸­å®ç°ä¸šåŠ¡é€»è¾‘ï¼š

```go
// backend/api/handler/coze/passport_service.go
func PassportWebEmailRegisterV2Post(ctx context.Context, c *app.RequestContext) {
    var err error
    var req passport.PassportWebEmailRegisterV2PostRequest
    
    // 1. ç»‘å®šå’ŒéªŒè¯ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
    err = c.BindAndValidate(&req)
    if err != nil {
        invalidParamRequestResponse(c, err.Error())
        return
    }
    
    locale := string(i18n.GetLocale(ctx))
    
    // 2. âœ… æ‰‹åŠ¨å®ç°ï¼šè°ƒç”¨ Application Service
    resp, sessionKey, err := user.UserApplicationSVC.PassportWebEmailRegisterV2(
        ctx, locale, &req)
    if err != nil {
        handleError(c, err)
        return
    }
    
    // 3. âœ… æ‰‹åŠ¨å®ç°ï¼šè®¾ç½® Cookie
    c.SetCookie(entity.SessionKey, sessionKey, 
        utils.MaxAge, "/", "", true, true)
    
    // 4. è¿”å›å“åº”ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
    c.JSON(http.StatusOK, resp)
}
```

### æ­¥éª¤ 4: æ³¨å†Œè·¯ç”±

åœ¨ `backend/api/router/register.go` ä¸­è°ƒç”¨ç”Ÿæˆçš„æ³¨å†Œå‡½æ•°ï¼š

```go
// backend/api/router/register.go
func GeneratedRegister(r *server.Hertz) {
    // INSERT_POINT: DO NOT DELETE THIS LINE!
    coze.Register(r)  // â† è¿™æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„æ³¨å†Œå‡½æ•°
    staticFileRegister(r)
}
```

---

## ä»£ç ç¤ºä¾‹å¯¹æ¯”

### å®Œæ•´çš„ IDL â†’ ä»£ç ç¤ºä¾‹

#### IDL å®šä¹‰

```thrift
// idl/passport/passport.thrift
namespace go passport

struct User {
    1: required i64 user_id_str
    2: required string name
}

struct PassportWebEmailRegisterV2PostRequest {
    23: string email
    11: required string password
}

struct PassportWebEmailRegisterV2PostResponse {
    1: required User data
    253: required i32 code
    254: required string msg
}

service PassportService {
    PassportWebEmailRegisterV2PostResponse PassportWebEmailRegisterV2Post(
        1: PassportWebEmailRegisterV2PostRequest req
    ) (api.post="/api/passport/web/email/register/v2/")
}
```

#### ç”Ÿæˆçš„ Model

```go
// backend/api/model/passport/passport.go
// Code generated by thriftgo (0.4.2). DO NOT EDIT.

package passport

import (
    "context"
    "fmt"
    "github.com/apache/thrift/lib/go/thrift"
)

type User struct {
    UserIDStr int64  `thrift:"user_id_str,1,required" json:"user_id_str,required"`
    Name      string `thrift:"name,2,required" json:"name,required"`
}

// ... åŒ…å« Read/Write åºåˆ—åŒ–æ–¹æ³• ...

type PassportWebEmailRegisterV2PostRequest struct {
    Email    string `thrift:"email,23" json:"email,omitempty"`
    Password string `thrift:"password,11,required" json:"password,required"`
}

// ... åŒ…å« Read/Write åºåˆ—åŒ–æ–¹æ³• ...

type PassportWebEmailRegisterV2PostResponse struct {
    Data User   `thrift:"data,1,required" json:"data,required"`
    Code int32  `thrift:"code,253,required" json:"code,required"`
    Msg  string `thrift:"msg,254,required" json:"msg,required"`
}

// ... åŒ…å« Read/Write åºåˆ—åŒ–æ–¹æ³• ...
```

#### ç”Ÿæˆçš„è·¯ç”±

```go
// backend/api/router/coze/api.go
// Code generated by hertz generator. DO NOT EDIT.

package coze

import (
    "github.com/cloudwego/hertz/pkg/app/server"
    coze "github.com/coze-dev/coze-studio/backend/api/handler/coze"
)

func Register(r *server.Hertz) {
    root := r.Group("/", rootMw()...)
    {
        _api := root.Group("/api", _apiMw()...)
        {
            _passport := _api.Group("/passport", _passportMw()...)
            {
                _web := _passport.Group("/web", _webMw()...)
                {
                    _email := _web.Group("/email", _emailMw()...)
                    {
                        _register := _email.Group("/register", _registerMw()...)
                        {
                            _v2 := _register.Group("/v2", _v20Mw()...)
                            _v2.POST("/", append(
                                _passportwebemailregisterv2postMw(), 
                                coze.PassportWebEmailRegisterV2Post)...)
                        }
                    }
                }
            }
        }
    }
}
```

#### ç”Ÿæˆçš„ Handlerï¼ˆéª¨æ¶ï¼‰

```go
// backend/api/handler/coze/passport_service.go
// Code generated by hertz generator.

package coze

import (
    "context"
    "net/http"
    "github.com/cloudwego/hertz/pkg/app"
    "github.com/coze-dev/coze-studio/backend/api/model/passport"
    "github.com/coze-dev/coze-studio/backend/pkg/i18n"
)

// PassportWebEmailRegisterV2Post .
// @router /passport/web/email/register/v2/ [POST]
func PassportWebEmailRegisterV2Post(ctx context.Context, c *app.RequestContext) {
    var err error
    var req passport.PassportWebEmailRegisterV2PostRequest
    
    // âœ… è‡ªåŠ¨ç”Ÿæˆï¼šå‚æ•°ç»‘å®šå’ŒéªŒè¯
    err = c.BindAndValidate(&req)
    if err != nil {
        invalidParamRequestResponse(c, err.Error())
        return
    }
    
    // âœ… è‡ªåŠ¨ç”Ÿæˆï¼šè·å– locale
    locale := string(i18n.GetLocale(ctx))
    
    // âš ï¸ éœ€è¦æ‰‹åŠ¨å®ç°ï¼šä¸šåŠ¡é€»è¾‘
    // TODO: è°ƒç”¨ Application Service
    
    // âš ï¸ éœ€è¦æ‰‹åŠ¨å®ç°ï¼šæ„é€ å“åº”
    resp := &passport.PassportWebEmailRegisterV2PostResponse{
        Code: 0,
        Msg:  "success",
        Data: passport.User{},
    }
    
    // âœ… è‡ªåŠ¨ç”Ÿæˆï¼šè¿”å›å“åº”
    c.JSON(http.StatusOK, resp)
}
```

---

## å®é™…ä½¿ç”¨

### æŸ¥çœ‹ç”Ÿæˆçš„ä»£ç 

```bash
# æŸ¥çœ‹ç”Ÿæˆçš„ Model
ls -la backend/api/model/passport/

# æŸ¥çœ‹ç”Ÿæˆçš„è·¯ç”±
cat backend/api/router/coze/api.go

# æŸ¥çœ‹ç”Ÿæˆçš„ Handler
cat backend/api/handler/coze/passport_service.go
```

### é‡æ–°ç”Ÿæˆä»£ç 

```bash
# å¦‚æœä¿®æ”¹äº† IDLï¼Œéœ€è¦é‡æ–°ç”Ÿæˆ
# æŸ¥çœ‹ .github/workflows/idl.yaml äº†è§£ç”Ÿæˆå‘½ä»¤

# ç”Ÿæˆ Model
thriftgo -g go:package_prefix=github.com/coze-dev/coze-studio/backend \
    -o backend/api/model \
    idl/passport/passport.thrift

# ç”Ÿæˆ Router å’Œ Handlerï¼ˆä½¿ç”¨ Kitexï¼‰
kitex -service=coze \
    -module=github.com/coze-dev/coze-studio \
    -thrift ignore_initialisms=false \
    idl/api.thrift
```

### ç”Ÿæˆåçš„æ–‡ä»¶ç»“æ„

```
backend/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â””â”€â”€ passport/
â”‚   â”‚       â””â”€â”€ passport.go          â† âœ… è‡ªåŠ¨ç”Ÿæˆï¼ˆModelï¼‰
â”‚   â”œâ”€â”€ router/
â”‚   â”‚   â””â”€â”€ coze/
â”‚   â”‚       â””â”€â”€ api.go               â† âœ… è‡ªåŠ¨ç”Ÿæˆï¼ˆRouterï¼‰
â”‚   â””â”€â”€ handler/
â”‚       â””â”€â”€ coze/
â”‚           â””â”€â”€ passport_service.go   â† âš ï¸ è‡ªåŠ¨ç”Ÿæˆéª¨æ¶ï¼Œä¸šåŠ¡é€»è¾‘éœ€æ‰‹åŠ¨å®ç°
```

---

## å¸¸è§é—®é¢˜

### Q1: ç”Ÿæˆçš„ä»£ç åœ¨å“ªé‡Œï¼Ÿ

**A**: 
- Model: `backend/api/model/{namespace}/`
- Router: `backend/api/router/coze/api.go`
- Handler: `backend/api/handler/coze/{service}_service.go`

### Q2: å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹ç”Ÿæˆçš„ä»£ç å—ï¼Ÿ

**A**: âŒ **ä¸å¯ä»¥ï¼**

æ‰€æœ‰ç”Ÿæˆçš„ä»£ç éƒ½æœ‰æ³¨é‡Šï¼š
```go
// Code generated by thriftgo (0.4.2). DO NOT EDIT.
// Code generated by hertz generator. DO NOT EDIT.
```

æ‰‹åŠ¨ä¿®æ”¹ä¼šåœ¨ä¸‹æ¬¡ç”Ÿæˆæ—¶è¢«è¦†ç›–ã€‚

### Q3: å¦‚æœä¿®æ”¹äº† IDLï¼Œéœ€è¦åšä»€ä¹ˆï¼Ÿ

**A**: 
1. é‡æ–°è¿è¡Œç”Ÿæˆå‘½ä»¤
2. æ›´æ–° Handler ä¸­çš„ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚æœéœ€è¦ï¼‰
3. ç¡®ä¿ç”Ÿæˆçš„ä»£ç èƒ½æ­£å¸¸ç¼–è¯‘

### Q4: Handler ä¸­çš„ä¸šåŠ¡é€»è¾‘åœ¨å“ªé‡Œï¼Ÿ

**A**: åœ¨ç”Ÿæˆçš„ Handler å‡½æ•°ä¸­æ‰‹åŠ¨å®ç°ï¼š

```go
func PassportWebEmailRegisterV2Post(ctx context.Context, c *app.RequestContext) {
    // âœ… è‡ªåŠ¨ç”Ÿæˆçš„éƒ¨åˆ†
    var req passport.PassportWebEmailRegisterV2PostRequest
    err = c.BindAndValidate(&req)
    
    // âš ï¸ æ‰‹åŠ¨å®ç°çš„éƒ¨åˆ†
    resp, sessionKey, err := user.UserApplicationSVC.PassportWebEmailRegisterV2(
        ctx, locale, &req)
    // ...
}
```

### Q5: è·¯ç”±æ³¨è§£çš„æ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿ

**A**: ä½¿ç”¨ `api.{method}="path"` æ ¼å¼ï¼š

```thrift
service MyService {
    Response MyMethod(1: Request req) 
        (api.post="/api/my/method")
        (api.get="/api/my/method")      // GET æ–¹æ³•
        (api.put="/api/my/method")      // PUT æ–¹æ³•
        (api.delete="/api/my/method")   // DELETE æ–¹æ³•
}
```

### Q6: å¦‚ä½•æ·»åŠ ä¸­é—´ä»¶ï¼Ÿ

**A**: åœ¨ç”Ÿæˆçš„ Router æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªè·¯ç”±ç»„éƒ½æœ‰å¯¹åº”çš„ä¸­é—´ä»¶å‡½æ•°ï¼š

```go
// backend/api/router/coze/api.go
_passport := _api.Group("/passport", _passportMw()...)
                                    // â†‘ è¿™é‡Œå¯ä»¥æ·»åŠ ä¸­é—´ä»¶
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [IDL åˆ†ææ–‡æ¡£](./idl/IDL_ANALYSIS.md) - IDL ç›®å½•ç»“æ„è¯¦è§£
- [åç«¯å¿«é€Ÿå…¥é—¨](./BACKEND_QUICKSTART.md) - åç«¯å¼€å‘æµç¨‹
- [åç«¯å®æˆ˜ç»ƒä¹ ](./BACKEND_PRACTICE.md) - å®é™…å¼€å‘æ¡ˆä¾‹
- [åç«¯å‹˜è¯¯è¡¨](./BACKEND_ERRATA.md) - å¸¸è§é”™è¯¯å’Œä¿®æ­£

---

## ğŸ¯ æ€»ç»“

### æ ¸å¿ƒè¦ç‚¹

1. âœ… **IDL å®šä¹‰** â†’ è‡ªåŠ¨ç”Ÿæˆ Modelã€Routerã€Handler éª¨æ¶
2. âš ï¸ **ä¸šåŠ¡é€»è¾‘** â†’ åœ¨ Handler ä¸­æ‰‹åŠ¨å®ç°
3. âŒ **ä¸è¦ä¿®æ”¹** â†’ ç”Ÿæˆçš„ä»£ç ä¼šè‡ªåŠ¨è¦†ç›–
4. ğŸ”„ **é‡æ–°ç”Ÿæˆ** â†’ ä¿®æ”¹ IDL åéœ€è¦é‡æ–°ç”Ÿæˆä»£ç 

### å¼€å‘æµç¨‹

```
1. ç¼–å†™ IDL (.thrift)
   â†“
2. ç”Ÿæˆä»£ç  (kitex/thriftgo)
   â†“
3. å®ç°ä¸šåŠ¡é€»è¾‘ (Handler)
   â†“
4. æµ‹è¯• API
```

---

**ğŸ’¡ æç¤º**: å¦‚æœé‡åˆ°ç”Ÿæˆé—®é¢˜ï¼ŒæŸ¥çœ‹ `.github/workflows/idl.yaml` äº†è§£æ­£ç¡®çš„ç”Ÿæˆå‘½ä»¤å’Œå‚æ•°ã€‚

